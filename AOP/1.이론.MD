모든 사진의 출처는 https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B3%A0%EA%B8%89%ED%8E%B8)

입니다.



![image](https://user-images.githubusercontent.com/57785267/164395310-4fb4d785-f03c-486a-beb1-ad0846ada762.png)



**핵심 기능과 부가 기능을 분리**

부가 기능을 핵심 기능에서 분리하여 한곳에서 관리하기 위함(한곳에서 등록,변경 작업을 하므로 수월하다.)

![image](https://user-images.githubusercontent.com/57785267/164395419-1bfba5d4-b333-4200-8a2b-b79e922ceb90.png)



부가 기능을 어디에 적용할지 선택하는 모듈이 **Aspect**

**Aspect**는 관점이라는 뜻으로

**Aspect**를 사용한 프로그래밍을 관짐 지향 프로그래밍 **AOP**(Aspect Oriented Programming)라고 한다.

**AOP**는 **OOP**를 대체하기 위한 것이 아니라 횡단 관심사를 깔끔히 처리하기 어려운 OOP의 부족한 부분을 보조하는 목적으로 개발되었다.



AOP 방식에는 3가지의 시점(컴파일 시점, 클래스 로딩 시점, 런타임 시점)이 있으나

대부분 사용하는 **스프링 AOP 방식**은 **런타임 시점**에 적용되는 **프록시 AOP 방식** 이다

![image](https://user-images.githubusercontent.com/57785267/164395505-a9f04b6b-12cf-424e-a4ec-0d63dea1556d.png)

런타임 시점의 프록시 AOP 방식은 앞선 2개의 시점의 방식을 사용할때의 특별한 컴파일러 필요, 복잡한 옵션 설정 및 클래스 로더 조작기 설정이 필요한것을 하지않아도 되므로 훨씬 간편하다.

스프링 컨테이너의 도움을 받아 프록시, DI, 빈 포스트 프로세서 개념들이 모두 포함되어있다.

**제한점**

프록시 방식을 사용하는 스프링 AOP방식은 메서드 실행 지점에만 AOP를 적용할 수 있다.

- 프록시는 메서드 오버라이딩 개념으로 동작, 따라서 생성자나 static 메서드, 필드 값 접근에는 프록시 개념이 적용될 수 없음
- 프록시 방식을 사용하는 스프링 AOP는 스프링 컨테이너가 관리할 수 있는 스프링 빈에만 AOP를 적용할 수 있음





### **용어정리**![image](https://user-images.githubusercontent.com/57785267/164395592-91dc1379-82ed-4b1c-92f1-657cb111e308.png)

![image](https://user-images.githubusercontent.com/57785267/164395621-6629d647-1e55-43bc-ba45-82a2a0b9406b.png)



#### 조인 포인트

- 어드바이스가 적용될수 있는 위치, 메소스 실행, 생성자 호출, 필드 값 접근, static 메서드 접근 같은 프로그램 실행 중 지점
- 스프링 AOP는 프록시 방식이므로 항상 메소드 실행 지점으로 제한된다.



#### 타겟

- 어드바이스를 받는 객체, 포인트컷으로 설정



#### 어드바이스

- 부가기능
- 특정 조인포인트에서 Aspect에 의해 취해지는 조치

- 다양한 어드바이스가 있음(Around, Before, After)



#### 애스펙트(Aspect)

- 어드바이스+포인트컷을 모듈화 한것
- @Aspect를 생각하자
- 여러 어드바이스와 포인트 컷이 함께 존재



#### 어드바이저

- 하나의 어드바이스와 하나의 포인트 컷으로 구성
- 스프링 AOP에서만 사용되는 특별한 용어



#### 위빙

- 포인트컷으로 결정한 타겟의 조인 포인트에 어드바이스를 적용하는 것

- 위빙을 통해 핵심코드에 영향을 주지 않고 부가기능을 추가할 수 있음

- AOP 적용을 위해 애스펙트를 객체에 연결한 상태

   1.컴파일 타임

   2.로드 타임

   3.런타임, 스프링 AOP는 런타임, 프록시 방식



#### AOP 프록시

- AOP 기능을 구현하기 위해 만든 프록시 객체, 스프링에서 AOP 프록시는 JDK동적 프록시 또는 CGLIB 프록시
